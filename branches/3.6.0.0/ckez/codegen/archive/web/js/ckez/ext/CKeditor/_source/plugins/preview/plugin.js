(function(){var a={modes:{wysiwyg:1,source:1},canUndo:false,readOnly:1,exec:function(o){var i,h=o.config,l=h.baseHref?'<base href="'+h.baseHref+'"/>':"",j=CKEDITOR.env.isCustomDomain();if(h.fullPage){i=o.getData().replace(/<head>/,"$&"+l).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+o.lang.preview)}else{var m="<body ",n=o.document&&o.document.getBody();if(n){if(n.getAttribute("id")){m+='id="'+n.getAttribute("id")+'" '}if(n.getAttribute("class")){m+='class="'+n.getAttribute("class")+'" '}}m+=">";i=o.config.docType+'<html dir="'+o.config.contentsLangDirection+'"><head>'+l+"<title>"+o.lang.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(o.config.contentsCss)+"</head>"+m+o.getData()+"</body></html>"}var f=640,c=420,k=80;try{var q=window.screen;f=Math.round(q.width*0.8);c=Math.round(q.height*0.7);k=Math.round(q.width*0.1)}catch(p){}var g="";if(j){window._cke_htmlToLoad=i;g='javascript:void( (function(){document.open();document.domain="'+document.domain+'";document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )'}var d=window.open(g,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+f+",height="+c+",left="+k);if(!j){d.document.open();d.document.write(i);d.document.close()}}};var b="preview";CKEDITOR.plugins.add(b,{init:function(c){c.addCommand(b,a);c.ui.addButton("Preview",{label:c.lang.preview,command:b})}})})();