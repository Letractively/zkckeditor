(function(){var c=1,g=2,h=4;var a={id:[{type:c,name:"id"}],classid:[{type:c,name:"classid"}],codebase:[{type:c,name:"codebase"}],pluginspage:[{type:h,name:"pluginspage"}],src:[{type:g,name:"movie"},{type:h,name:"src"},{type:c,name:"data"}],name:[{type:h,name:"name"}],align:[{type:c,name:"align"}],title:[{type:c,name:"title"},{type:h,name:"title"}],"class":[{type:c,name:"class"},{type:h,name:"class"}],width:[{type:c,name:"width"},{type:h,name:"width"}],height:[{type:c,name:"height"},{type:h,name:"height"}],hSpace:[{type:c,name:"hSpace"},{type:h,name:"hSpace"}],vSpace:[{type:c,name:"vSpace"},{type:h,name:"vSpace"}],style:[{type:c,name:"style"},{type:h,name:"style"}],type:[{type:h,name:"type"}]};var f=["play","loop","menu","quality","scale","salign","wmode","bgcolor","base","flashvars","allowScriptAccess","allowFullScreen"];for(var b=0;b<f.length;b++){a[f[b]]=[{type:h,name:f[b]},{type:g,name:f[b]}]}f=["allowFullScreen","play","loop","menu"];for(b=0;b<f.length;b++){a[f[b]][0]["default"]=a[f[b]][1]["default"]=true}function e(m,k,p){var l=a[this.id];if(!l){return}var o=(this instanceof CKEDITOR.ui.dialog.checkbox);for(var n=0;n<l.length;n++){var j=l[n];switch(j.type){case c:if(!m){continue}if(m.getAttribute(j.name)!==null){var q=m.getAttribute(j.name);if(o){this.setValue(q.toLowerCase()=="true")}else{this.setValue(q)}return}else{if(o){this.setValue(!!j["default"])}}break;case g:if(!m){continue}if(j.name in p){q=p[j.name];if(o){this.setValue(q.toLowerCase()=="true")}else{this.setValue(q)}return}else{if(o){this.setValue(!!j["default"])}}break;case h:if(!k){continue}if(k.getAttribute(j.name)){q=k.getAttribute(j.name);if(o){this.setValue(q.toLowerCase()=="true")}else{this.setValue(q)}return}else{if(o){this.setValue(!!j["default"])}}}}}function d(q,k,r){var n=a[this.id];if(!n){return}var j=(this.getValue()===""),m=(this instanceof CKEDITOR.ui.dialog.checkbox);for(var o=0;o<n.length;o++){var p=n[o];switch(p.type){case c:if(!q){continue}var s=this.getValue();if(j||m&&s===p["default"]){q.removeAttribute(p.name)}else{q.setAttribute(p.name,s)}break;case g:if(!q){continue}s=this.getValue();if(j||m&&s===p["default"]){if(p.name in r){r[p.name].remove()}}else{if(p.name in r){r[p.name].setAttribute("value",s)}else{var l=CKEDITOR.dom.element.createFromHtml("<cke:param></cke:param>",q.getDocument());l.setAttributes({name:p.name,value:s});if(q.getChildCount()<1){l.appendTo(q)}else{l.insertBefore(q.getFirst())}}}break;case h:if(!k){continue}s=this.getValue();if(j||m&&s===p["default"]){k.removeAttribute(p.name)}else{k.setAttribute(p.name,s)}}}}CKEDITOR.dialog.add("flash",function(l){var m=!l.config.flashEmbedTagOnly,i=l.config.flashAddEmbedTag||l.config.flashEmbedTagOnly;var j,k="<div>"+CKEDITOR.tools.htmlEncode(l.lang.common.preview)+'<br><div id="cke_FlashPreviewLoader'+CKEDITOR.tools.getNextNumber()+'" style="display:none"><div class="loading">&nbsp;</div></div><div id="cke_FlashPreviewBox'+CKEDITOR.tools.getNextNumber()+'" class="FlashPreviewBox"></div></div>';return{title:l.lang.flash.title,minWidth:420,minHeight:310,onShow:function(){this.fakeImage=this.objectNode=this.embedNode=null;j=new CKEDITOR.dom.element("embed",l.document);var w=this.getSelectedElement();if(w&&w.data("cke-real-element-type")&&w.data("cke-real-element-type")=="flash"){this.fakeImage=w;var q=l.restoreRealElement(w),t=null,p=null,u={};if(q.getName()=="cke:object"){t=q;var s=t.getElementsByTag("embed","cke");if(s.count()>0){p=s.getItem(0)}var y=t.getElementsByTag("param","cke");for(var r=0,o=y.count();r<o;r++){var x=y.getItem(r),n=x.getAttribute("name"),v=x.getAttribute("value");u[n]=v}}else{if(q.getName()=="cke:embed"){p=q}}this.objectNode=t;this.embedNode=p;this.setupContent(t,p,u,w)}},onOk:function(){var t=null,o=null,u=null;if(!this.fakeImage){if(m){t=CKEDITOR.dom.element.createFromHtml("<cke:object></cke:object>",l.document);var q={classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"};t.setAttributes(q)}if(i){o=CKEDITOR.dom.element.createFromHtml("<cke:embed></cke:embed>",l.document);o.setAttributes({type:"application/x-shockwave-flash",pluginspage:"http://www.macromedia.com/go/getflashplayer"});if(t){o.appendTo(t)}}}else{t=this.objectNode;o=this.embedNode}if(t){u={};var w=t.getElementsByTag("param","cke");for(var r=0,n=w.count();r<n;r++){u[w.getItem(r).getAttribute("name")]=w.getItem(r)}}var p={},s={};this.commitContent(t,o,u,p,s);var v=l.createFakeElement(t||o,"cke_flash","flash",true);v.setAttributes(s);v.setStyles(p);if(this.fakeImage){v.replace(this.fakeImage);l.getSelection().selectElement(v)}else{l.insertElement(v)}},onHide:function(){if(this.preview){this.preview.setHtml("")}},contents:[{id:"info",label:l.lang.common.generalTab,accessKey:"I",elements:[{type:"vbox",padding:0,children:[{type:"hbox",widths:["280px","110px"],align:"right",children:[{id:"src",type:"text",label:l.lang.common.url,required:true,validate:CKEDITOR.dialog.validate.notEmpty(l.lang.flash.validateSrc),setup:e,commit:d,onLoad:function(){var n=this.getDialog(),o=function(p){j.setAttribute("src",p);n.preview.setHtml('<embed height="100%" width="100%" src="'+CKEDITOR.tools.htmlEncode(j.getAttribute("src"))+'" type="application/x-shockwave-flash"></embed>')};n.preview=n.getContentElement("info","preview").getElement().getChild(3);this.on("change",function(p){if(p.data&&p.data.value){o(p.data.value)}});this.getInputElement().on("change",function(p){o(this.getValue())},this)}},{type:"button",id:"browse",filebrowser:"info:src",hidden:true,style:"display:inline-block;margin-top:10px;",label:l.lang.common.browseServer}]}]},{type:"hbox",widths:["25%","25%","25%","25%","25%"],children:[{type:"text",id:"width",style:"width:95px",label:l.lang.common.width,validate:CKEDITOR.dialog.validate.integer(l.lang.common.invalidWidth),setup:function(p,n,r,o){e.apply(this,arguments);if(o){var q=parseInt(o.$.style.width,10);if(!isNaN(q)){this.setValue(q)}}},commit:function(o,n,p,q){d.apply(this,arguments);if(this.getValue()){q.width=this.getValue()+"px"}}},{type:"text",id:"height",style:"width:95px",label:l.lang.common.height,validate:CKEDITOR.dialog.validate.integer(l.lang.common.invalidHeight),setup:function(q,n,r,p){e.apply(this,arguments);if(p){var o=parseInt(p.$.style.height,10);if(!isNaN(o)){this.setValue(o)}}},commit:function(o,n,p,q){d.apply(this,arguments);if(this.getValue()){q.height=this.getValue()+"px"}}},{type:"text",id:"hSpace",style:"width:95px",label:l.lang.flash.hSpace,validate:CKEDITOR.dialog.validate.integer(l.lang.flash.validateHSpace),setup:e,commit:d},{type:"text",id:"vSpace",style:"width:95px",label:l.lang.flash.vSpace,validate:CKEDITOR.dialog.validate.integer(l.lang.flash.validateVSpace),setup:e,commit:d}]},{type:"vbox",children:[{type:"html",id:"preview",style:"width:95%;",html:k}]}]},{id:"Upload",hidden:true,filebrowser:"uploadButton",label:l.lang.common.upload,elements:[{type:"file",id:"upload",label:l.lang.common.upload,size:38},{type:"fileButton",id:"uploadButton",label:l.lang.common.uploadSubmit,filebrowser:"info:src","for":["Upload","upload"]}]},{id:"properties",label:l.lang.flash.propertiesTab,elements:[{type:"hbox",widths:["50%","50%"],children:[{id:"scale",type:"select",label:l.lang.flash.scale,"default":"",style:"width : 100%;",items:[[l.lang.common.notSet,""],[l.lang.flash.scaleAll,"showall"],[l.lang.flash.scaleNoBorder,"noborder"],[l.lang.flash.scaleFit,"exactfit"]],setup:e,commit:d},{id:"allowScriptAccess",type:"select",label:l.lang.flash.access,"default":"",style:"width : 100%;",items:[[l.lang.common.notSet,""],[l.lang.flash.accessAlways,"always"],[l.lang.flash.accessSameDomain,"samedomain"],[l.lang.flash.accessNever,"never"]],setup:e,commit:d}]},{type:"hbox",widths:["50%","50%"],children:[{id:"wmode",type:"select",label:l.lang.flash.windowMode,"default":"",style:"width : 100%;",items:[[l.lang.common.notSet,""],[l.lang.flash.windowModeWindow,"window"],[l.lang.flash.windowModeOpaque,"opaque"],[l.lang.flash.windowModeTransparent,"transparent"]],setup:e,commit:d},{id:"quality",type:"select",label:l.lang.flash.quality,"default":"high",style:"width : 100%;",items:[[l.lang.common.notSet,""],[l.lang.flash.qualityBest,"best"],[l.lang.flash.qualityHigh,"high"],[l.lang.flash.qualityAutoHigh,"autohigh"],[l.lang.flash.qualityMedium,"medium"],[l.lang.flash.qualityAutoLow,"autolow"],[l.lang.flash.qualityLow,"low"]],setup:e,commit:d}]},{type:"hbox",widths:["50%","50%"],children:[{id:"align",type:"select",label:l.lang.common.align,"default":"",style:"width : 100%;",items:[[l.lang.common.notSet,""],[l.lang.common.alignLeft,"left"],[l.lang.flash.alignAbsBottom,"absBottom"],[l.lang.flash.alignAbsMiddle,"absMiddle"],[l.lang.flash.alignBaseline,"baseline"],[l.lang.common.alignBottom,"bottom"],[l.lang.common.alignMiddle,"middle"],[l.lang.common.alignRight,"right"],[l.lang.flash.alignTextTop,"textTop"],[l.lang.common.alignTop,"top"]],setup:e,commit:function(o,n,p,s,q){var r=this.getValue();d.apply(this,arguments);r&&(q.align=r)}},{type:"html",html:"<div></div>"}]},{type:"fieldset",label:CKEDITOR.tools.htmlEncode(l.lang.flash.flashvars),children:[{type:"vbox",padding:0,children:[{type:"checkbox",id:"menu",label:l.lang.flash.chkMenu,"default":true,setup:e,commit:d},{type:"checkbox",id:"play",label:l.lang.flash.chkPlay,"default":true,setup:e,commit:d},{type:"checkbox",id:"loop",label:l.lang.flash.chkLoop,"default":true,setup:e,commit:d},{type:"checkbox",id:"allowFullScreen",label:l.lang.flash.chkFull,"default":true,setup:e,commit:d}]}]}]},{id:"advanced",label:l.lang.common.advancedTab,elements:[{type:"hbox",widths:["45%","55%"],children:[{type:"text",id:"id",label:l.lang.common.id,setup:e,commit:d},{type:"text",id:"title",label:l.lang.common.advisoryTitle,setup:e,commit:d}]},{type:"hbox",widths:["45%","55%"],children:[{type:"text",id:"bgcolor",label:l.lang.flash.bgcolor,setup:e,commit:d},{type:"text",id:"class",label:l.lang.common.cssClass,setup:e,commit:d}]},{type:"text",id:"style",label:l.lang.common.cssStyle,setup:e,commit:d}]}]}})})();